IO0DIR	EQU 0XE0028008
IO0SET	EQU 0XE0028004
IO0CLR	EQU 0XE002800C
IO1DIR	EQU 0XE0028018
IO1PIN	EQU 0XE0028010
  AREA CHANG, CODE, READONLY
  EXPORT __main
__main
	ENTRY
		LDR R1,=IO0DIR
		LDR	R0,=0XFF0000
		STR	R0,[R1]
		LDR	R2,=IO0CLR
		LDR	R3,=IO0SET
		LDR	R4,=IO1PIN
		LDR	R1,=IO1DIR
		STR	R0,[R3]
		LDR R6,=0X7F0000
		LDR R7,=0XBF0000
		LDR R8,=0XDF0000
		LDR R9,=0XEF0000
repeat 	LDR	R5,[R4]
		AND	R5,#0XFF0000
		CMP	R5,#0XFF0000
		BEQ	repeat
		STR	R0,[R3]
		EOR	R5,#0XFF0000
		CMP R5,R6
		BEQ ONE
		CMP R5,R7
		BEQ TWO
		CMP R5,R8
		BEQ FOUR
		CMP R5,R9
		BEQ EIGHT
		B repeat
ONE 	LDR R5,=0XF70000
		STR R5,[R2]
		B repeat
TWO  	LDR R5,=0XF30000
		STR R5,[R2]
		B repeat
FOUR 	LDR R5,=0XF00000
		STR R5,[R2]
		B repeat
EIGHT 	LDR R5,=0X000000
		STR R5,[R2]
		B repeat
		END