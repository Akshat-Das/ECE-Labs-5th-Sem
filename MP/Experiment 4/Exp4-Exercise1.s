IO0DIR	EQU 0XE0028008
IO0SET	EQU 0XE0028004
IO0CLR	EQU 0XE002800C
  AREA CHANG, CODE, READONLY
  EXPORT __main
__main
	ENTRY
		LDR R1,=IO0DIR
		LDR	R0,=0X00FF0000
		STR	R0,[R1]
		LDR	R2,=IO0CLR
		LDR	R3,=IO0SET
		LDR R7,=0X1FF0000
		LDR R8,=0XFE000000
repeat	MOV	R4, #0X00010000
next	STR	R4,[R2]
		LDR	R5,=0X2FFFFF
delay	SUBS R5,R5,#1
		BNE	delay
		STR	R0,[R3]
		MOV R6,R4
		MOV	R4,R4,LSL#1
		ORR R4,R4,R6
		CMP	R4,R7
		BNE next
		B 	repeat2
repeat2 MOV R4,#0XFF0000
next2	STR R4,[R2]
		LDR	R5,=0X2FFFFF
delay2	SUBS R5,R5,#1
		BNE	delay2
		STR	R0,[R3]
		MOV	R4,R4,LSL#1
		CMP	R4,R8
		BNE next2
		B 	repeat
s b s
		END